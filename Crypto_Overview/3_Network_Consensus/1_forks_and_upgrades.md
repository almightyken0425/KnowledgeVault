# Forks & Upgrades 分叉與升級

我們知道偶然的分叉會被最長鏈原則自動修復。但是當社群想要主動升級區塊鏈的規則時，會發生什麼事。這取決於新規則是否與舊規則相容。

---

## Soft Fork 軟分叉

當新規則比舊規則更嚴格時，就會發生軟分叉。

- **特性:** 向下相容 Backward Compatible。
- **機制:**
    - 舊節點不需要升級，它們仍會將新規則產生的區塊視為有效。
    - 只是舊節點無法驗證新功能的細節，但這不影響它們跟上主鏈。
- **結果:** 網路不會分裂，所有節點仍在同一條鏈上。
- **範例:** 比特幣的 SegWit 隔離見證升級。

## Hard Fork 硬分叉

當新規則與舊規則不相容時，就會發生硬分叉。

- **特性:** 不相容 Incompatible。
- **機制:**
    - 舊節點會認為新規則產生的區塊是無效的，並拒絕接收。
    - 這導致新節點走新的鏈，舊節點走舊的鏈。
- **結果:**
    - 如果所有人都升級了，舊鏈死亡，網路完成無痛升級。
    - 如果社群意見不合，網路將永久分裂成兩條不同的區塊鏈，產生兩種幣。
- **範例:**
    - **ETH vs ETC:** 以太坊因為 DAO 駭客事件回滾交易，導致分裂出以太坊經典。
    - **BTC vs BCH:** 比特幣現金為了擴大區塊容量而分家。
